(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(t,e,c){},33:function(t,e,c){},63:function(t,e,c){"use strict";c.r(e);var n=c(1),s=c.n(n),l=c(25),a=c.n(l),o=(c(32),c(33),c(7)),i=c(2),r=c(3),d=c(8),j=c.n(d),b=c(0),u=function(t){var e=Object(n.useState)(""),c=Object(r.a)(e,2),s=c[0],l=c[1],a=Object(n.useState)(""),o=Object(r.a)(a,2),d=o[0],u=o[1],h=Object(n.useState)(""),x=Object(r.a)(h,2),O=x[0],p=x[1],m=Object(n.useState)([]),f=Object(r.a)(m,2),g=f[0],v=f[1],N=Object(n.useState)(""),y=Object(r.a)(N,2),w=y[0],k=y[1],S=Object(n.useState)(""),C=Object(r.a)(S,2),_=(C[0],C[1]),P=Object(n.useState)(""),D=Object(r.a)(P,2),E=(D[0],D[1]),A=Object(i.g)();return Object(b.jsxs)("div",{className:" d-flex col col-8 flex-column container p-3 my-3 bg-dark text-white rounded shadow",children:[Object(b.jsx)("h3",{className:"text-center",children:"Add a New Product"}),Object(b.jsxs)("form",{onSubmit:function(t){!function(t){t.preventDefault();var e=t.target,c=e.name,n=e.value;"title"===c?(l(n),n.length<2?k("Title must be at least 2 characters"):k("")):"price"===c?(u(n),n.length<2?_("Price must be at least 2 characters"):_("")):"description"===c&&(p(n),n.length<5?E("Description name must be at least 5 characters"):E(""));var a={title:s,price:d,description:O};j.a.post("http://localhost:8000/api/products/",a).then((function(t){console.log(t.data),A.push("/".concat(t.data._id))})).catch((function(t){console.log(t);for(var e=t.response.data.errors,c=[],n=0,s=Object.keys(e);n<s.length;n++){var l=s[n];c.push(e[l].message)}v(c)}))}(t)},children:[g.map((function(t,e){return Object(b.jsx)("p",{style:{color:"red"},children:t},e)})),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{className:"h6",children:"Title"}),Object(b.jsx)("input",{onChange:function(t){l(t.target.value)},type:"text",className:"form-control"}),w?Object(b.jsx)("p",{children:w}):""]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{className:"h6",children:"Price"}),Object(b.jsx)("input",{onChange:function(t){u(t.target.value)},type:"number",className:"form-control"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{className:"h6",children:"Description"}),Object(b.jsx)("input",{onChange:function(t){p(t.target.value)},type:"text",className:"form-control"})]}),Object(b.jsx)("button",{className:"btn btn-sm btn-success m-2 btn-outline",children:"Create"})]})]})},h=function(t){var e=Object(n.useState)([]),c=Object(r.a)(e,2),s=c[0],l=c[1];Object(n.useEffect)((function(){j.a.get("http://localhost:8000/api/products/all").then((function(t){console.log(t.data),l(t.data)})).catch((function(t){console.log(t)}))}),[]);return Object(b.jsx)("body",{children:Object(b.jsx)("div",{className:"d-flex col col-12 flex-column container p-3 my-3 bg-dark text-white rounded shadow shadow-lg table table-striped",children:Object(b.jsxs)("table",{children:[Object(b.jsxs)("thead",{children:[Object(b.jsx)("th",{children:"Title"}),Object(b.jsx)("th",{children:"Price"}),Object(b.jsx)("th",{children:"Description"}),Object(b.jsx)("th",{children:"Actions"})]}),Object(b.jsx)("tbody",{children:s.map((function(t,e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsxs)(o.b,{to:"/products/".concat(t._id),children:[" ",t.title," "]})}),Object(b.jsxs)("td",{children:[" ",t.price]}),Object(b.jsxs)("td",{children:[" ",t.description]}),Object(b.jsxs)("td",{children:[Object(b.jsx)(o.b,{to:"/products/".concat(t._id,"/edit"),className:"btn btn-sm btn-warning m-2 btn-outline",children:"Edit"}),Object(b.jsx)("button",{onClick:function(e){return c=t._id,void j.a.delete("http://localhost:8000/api/products/"+c).then((function(t){console.log(t.data),l(s.filter((function(t){return t._id!==c})))}));var c},className:"btn btn-sm btn-danger m-2 btn-outline",children:"Delete"}),Object(b.jsxs)("p",{onClick:function(){return function(t,e){console.log(t,e,"hello"),void 0==e&&(e=0);var c={like:e+1};j.a.put("http://localhost:8000/api/products/"+t,c).then((function(e){var c=e.data,n=s.map((function(e){return e._id===t?c:e}));l(n),console.log("liked")})).catch((function(t){console.log(t)}))}(t._id,t.like)},style:{cursor:"pointer",outline:"none"},children:[" \ud83d\udcaf",t.LikeCount]})]}),Object(b.jsxs)("td",{children:[" ",t.like," "]})]})}))})]})})})},x=function(t){var e=Object(n.useState)(null),c=Object(r.a)(e,2),s=c[0],l=c[1],a=Object(i.g)(),d=Object(i.h)().id;if(Object(n.useEffect)((function(){j.a.get("http://localhost:8000/api/products/".concat(d)).then((function(t){l(t.data)})).catch((function(t){console.log(t)}))}),[d]),null===s)return"Loading...";return Object(b.jsxs)("div",{className:"d-flex col col-12 flex-column container p-3 my-3 bg-dark text-white rounded shadow justify-text-center",children:[Object(b.jsx)("h1",{children:s.title}),Object(b.jsx)("h4",{className:"fst-italic",children:s.description}),Object(b.jsx)("br",{}),Object(b.jsxs)("h2",{children:["$ ",s.price]}),Object(b.jsx)("img",{src:"",alt:""}),Object(b.jsxs)("div",{className:"d-flex",children:[Object(b.jsx)("button",{onClick:function(t){return e=s._id,void j.a.delete("http://localhost:8000/api/products/"+e).then((function(t){console.log(t.data),a.push("/all")}));var e},className:"col col-1 btn btn-sm btn-danger m-2 btn-outline",children:"Delete"}),Object(b.jsx)(o.b,{to:"/products/".concat(s._id,"/edit"),className:"col col-1 btn btn-sm btn-warning m-2 btn-outline",children:"Edit"})]})]})},O=c(10),p=c(16),m=function(t){var e,c,s,l=Object(n.useState)(""),a=Object(r.a)(l,2),o=a[0],d=a[1],u=Object(n.useState)(null),h=Object(r.a)(u,2),x=h[0],m=h[1],f=Object(i.g)(),g=Object(i.h)().id;Object(n.useEffect)((function(){j.a.get("http://localhost:8000/api/products/"+g).then((function(t){d(t.data)})).catch((function(t){console.log(t)}))}),[g]);var v=function(t){var e=t.target.name,c=t.target.value;d(Object(p.a)(Object(p.a)({},o),{},Object(O.a)({},e,c)))};if(null===o)return"Loading...";return Object(b.jsxs)("div",{className:"d-flex col col-8 flex-column container p-3 my-3 bg-dark text-white rounded shadow justify-text-center shadow",children:[Object(b.jsx)("h3",{className:"text-center",children:"Edit Your Product"}),Object(b.jsxs)("form",{onSubmit:function(t){!function(t){t.preventDefault(),j.a.put("http://localhost:8000/api/products/"+o._id+"/edit",o).then((function(t){console.log(t.data),f.push("/products/".concat(o._id))})).catch((function(t){m(t.response.data.errors),console.log(t.response)}))}(t)},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{className:"h6",children:"Title"}),(null===x||void 0===x?void 0:x.title)&&Object(b.jsxs)("span",{className:"text-danger",children:[" ",null===x||void 0===x||null===(e=x.title)||void 0===e?void 0:e.message]}),Object(b.jsx)("input",{onChange:function(t){v(t)},type:"text",className:"form-control",value:o.title,name:"title"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{className:"h6",children:"Description"}),(null===x||void 0===x?void 0:x.description)&&Object(b.jsxs)("span",{className:"text-danger",children:[" ",null===x||void 0===x||null===(c=x.description)||void 0===c?void 0:c.message]}),Object(b.jsx)("input",{onChange:function(t){v(t)},type:"text",className:"form-control",value:o.description,name:"description"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{className:"h6",children:"Price"}),(null===x||void 0===x?void 0:x.src)&&Object(b.jsxs)("span",{className:"text-danger",children:[" ",null===x||void 0===x||null===(s=x.price)||void 0===s?void 0:s.message]}),Object(b.jsx)("input",{onChange:function(t){v(t)},type:"number",className:"form-control",value:o.price,name:"price"})]}),Object(b.jsx)("button",{className:"btn btn-sm btn-success m-2 btn-outline",children:"Update"}),Object(b.jsx)("button",{onClick:function(){f.push("/products/all")},className:"btn btn-sm btn-danger m-2 btn-outline",children:"Cancel"})]})]})};var f=function(){return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("nav",{className:" d-flex col col-8 flex-column container p-3 my-3 bg-dark text-white rounded shadow",children:[Object(b.jsx)("h1",{className:"fs-1 navbar-brand mb-0 mx-auto",children:"Product Manager"}),Object(b.jsxs)("div",{className:"d-flex justify-content-center text-justify",children:[Object(b.jsx)(o.b,{to:"/products/all",className:"col col-2 btn btn-sm btn-success m-2 btn-outline ",children:"All Products"}),Object(b.jsx)(o.b,{to:"/products",className:"col col-3 btn btn-sm btn-success m-2 btn-outline",children:"Add New Product"})]})]}),Object(b.jsxs)(i.d,{children:[Object(b.jsx)(i.a,{exact:!0,from:"/",to:"/products"}),Object(b.jsx)(i.b,{exact:!0,path:"/products",children:Object(b.jsx)(u,{})}),Object(b.jsx)(i.b,{exact:!0,path:"/products/all",children:Object(b.jsx)(h,{})}),Object(b.jsx)(i.b,{exact:!0,path:"/products/:id",children:Object(b.jsx)(x,{})}),Object(b.jsx)(i.b,{exact:!0,path:"/products/:id/edit",children:Object(b.jsx)(m,{})})]})]})};c(62);a.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(o.a,{children:Object(b.jsx)(f,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.e7a71718.chunk.js.map